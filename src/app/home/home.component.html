
<div class="container">
    <div class="heading">
    <div>
    <button mat-raised-button color="primary" (click)="createEmp()">Create Employee</button>
     &nbsp; 
     <button mat-raised-button color="warn" (click)="createProj()">Create Project</button> 
    </div>
    <a routerLink="" > <button mat-raised-button color="accent" (click)='main()'>Main Page</button> </a>
    </div>   
<hr>
<div class="division">
<button mat-raised-button (click)="showEmpTable()"  *ngIf="showButton" > Show Employee Table </button>
<button mat-raised-button (click)="showProjTable()" *ngIf="showButton"> Show Project Table </button>
</div>

<div *ngIf="!ActivateAddEditEmpComp && ShowEmpTable"  class="employee">
  <h1>Employee Table</h1>
    <table mat-table [dataSource]="EmpList" class="mat-elevation-z8">
     
        <ng-container matColumnDef="empId">
          <th mat-header-cell *matHeaderCellDef> No. </th>
          <td mat-cell *matCellDef="let element;let i=index"> {{i+1}} </td>
        </ng-container>

        <ng-container matColumnDef="ename">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let element"> {{element.ename}} </td>
          </ng-container>
      
          <ng-container matColumnDef="eage">
            <th mat-header-cell *matHeaderCellDef> Age </th>
            <td mat-cell *matCellDef="let element"> {{element.eage}} </td>
          </ng-container>

          <ng-container matColumnDef="esal">
            <th mat-header-cell *matHeaderCellDef> Salary </th>
            <td mat-cell *matCellDef="let element"> {{element.esal}} </td> 
          </ng-container>

          <ng-container matColumnDef="edit" >
            <th mat-header-cell *matHeaderCellDef>  </th>
            <td mat-cell *matCellDef="let element"> <button mat-raised-button color="primary" (click)="editEmpRecord(element.empId)">Edit</button></td> 
          </ng-container>
          
          <ng-container matColumnDef="view" >
            <th mat-header-cell *matHeaderCellDef>  </th>
            <td mat-cell *matCellDef="let element"> <button mat-raised-button color="info" (click)="viewEmpRecord(element.empId)">View</button></td> 
          </ng-container>
          
          <ng-container matColumnDef="del" >
            <th mat-header-cell *matHeaderCellDef>  </th>
            <td mat-cell *matCellDef="let element"> <button mat-raised-button color="warn" (click)="delEmpRecord(element.empId)">Del</button></td> 
          </ng-container>

          <ng-container matColumnDef="assign" >
            <th mat-header-cell *matHeaderCellDef>  </th>
            <td mat-cell *matCellDef="let element"> <button mat-raised-button color="warn"  (click)="AssignProj(element.empId,element.ename)">Assign Project</button></td> 
          </ng-container>
          
          <tr mat-header-row *matHeaderRowDef="displayedEmpColumns"></tr>
          <tr mat-row *matRowDef="let row;columns: displayedEmpColumns;  let i = index"></tr>
        </table>

        <div style="justify-content: center; display: flex; color: red;" *ngIf="NoEmpData" > <h1>{{displayData}}</h1></div>
</div>

<div *ngIf="!ActivateAddEditProjComp && ShowProjTable" class="Project">
  <h1>Project Table</h1>
  <table mat-table [dataSource]="ProjList" mat-table class="mat-elevation-z8">
  
      <ng-container matColumnDef="projId">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element;let i=index"> {{i+1}} </td>
      </ng-container>

      <ng-container matColumnDef="pname">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let element"> {{element.pname}} </td>
        </ng-container>
    
        <ng-container matColumnDef="pdetail">
          <th mat-header-cell *matHeaderCellDef> Project Detail </th>
          <td mat-cell *matCellDef="let element"> {{element.pdetail}} </td>
        </ng-container>

        <ng-container matColumnDef="pdate">
          <th mat-header-cell *matHeaderCellDef> Projeect Date </th>
          <td mat-cell *matCellDef="let element"> {{element.pdate}} </td> 
        </ng-container>

        <ng-container matColumnDef="edit" >
          <th mat-header-cell *matHeaderCellDef>  </th>
          <td mat-cell *matCellDef="let element"> <button mat-raised-button color="primary" (click)="editProjRecord(element.projId)">Edit</button></td> 
        </ng-container>
        
        <ng-container matColumnDef="view" >
          <th mat-header-cell *matHeaderCellDef>  </th>
          <td mat-cell *matCellDef="let element"> <button mat-raised-button color="info" (click)="viewProjRecord(element.projId)">View</button></td> 
        </ng-container>
        
        <ng-container matColumnDef="del" >
          <th mat-header-cell *matHeaderCellDef>  </th>
          <td mat-cell *matCellDef="let element"> <button mat-raised-button color="warn" (click)="delProjRecord(element.projId)">Del</button></td> 
        </ng-container>

        <ng-container matColumnDef="removeProj" >
          <th mat-header-cell *matHeaderCellDef>  </th>
          <td mat-cell *matCellDef="let element"> <button mat-raised-button color="warn"  (click)="RemoveProj(element.projId,element.pname)">Remove Emp From Project </button></td> 
        </ng-container>
        
        <tr mat-header-row *matHeaderRowDef="displayedProjColumns"></tr>
        <tr mat-row *matRowDef="let row;columns: displayedProjColumns; let i = index"></tr>

      </table>
      <div style="justify-content: center; display: flex; color: red;" *ngIf="NoProjData" > <h1>{{displayData}}</h1></div>
</div>

  <app-create-employee [emp]="emp" *ngIf="ActivateAddEditEmpComp"></app-create-employee>
   <app-create-project [proj]="proj" *ngIf="ActivateAddEditProjComp"></app-create-project>
   <app-view-employee [Viewemp]="Viewemp" *ngIf="ActivateViewEmpComp"></app-view-employee>
</div>